<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharmacy Dashboard - MediFind</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header class="pe-header">
        <div class="container header-content">
            <div class="logo"><i class="fas fa-heartbeat"></i> MediFind Partner</div>
            <div class="nav-actions">
                <span id="pharmacy-name" style="font-weight: 600;">My Pharmacy</span>
                <a href="#" id="logout-btn" class="nav-item" style="color: #e74c3c; cursor: pointer;">Logout</a>
            </div>
        </div>
    </header>

    <main class="container" style="padding-top: 30px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h2>Dashboard</h2>
            <button class="pe-btn-primary" style="width: auto;" onclick="openAddModal()">+ Add Medicine</button>
        </div>

        <!-- Stats Grid -->
        <div class="pe-banners" style="margin-bottom: 30px;">
            <div class="banner-box">
                <div class="banner-text">
                    <h3>Total Orders</h3>
                    <p style="font-size: 24px; font-weight: 700;">12</p>
                </div>
                <div class="banner-icon"><i class="fas fa-shopping-bag fa-2x" style="color: var(--primary);"></i></div>
            </div>
            <div class="banner-box" style="background: #fff0f0;">
                <div class="banner-text">
                    <h3 style="color: #e74c3c;">Low Stock</h3>
                    <p style="font-size: 24px; font-weight: 700; color: #e74c3c;">4 Items</p>
                </div>
                <div class="banner-icon"><i class="fas fa-exclamation-triangle fa-2x" style="color: #e74c3c;"></i></div>
            </div>
        </div>

        <!-- Tabs -->
        <div style="margin-bottom: 20px; border-bottom: 1px solid #eee;">
            <button class="pe-btn-primary" style="background: transparent; color: var(--primary); border-bottom: 2px solid var(--primary); border-radius: 0;" onclick="showTab('orders')">Orders</button>
            <button class="pe-btn-primary" style="background: transparent; color: #666; border-radius: 0;" onclick="showTab('inventory')">Inventory</button>
        </div>

        <!-- Orders Tab -->
        <div id="orders-tab">
            <div class="pe-results-grid" id="orders-container">
                <!-- Orders will be injected here -->
                <div style="text-align: center; grid-column: 1/-1; padding: 40px; color: #999;">Loading orders...</div>
            </div>
        </div>

        <!-- Inventory Tab -->
        <div id="inventory-tab" style="display: none;">
            <div class="pe-results-grid" id="inventory-container">
                <!-- Inventory will be injected here -->
            </div>
        </div>
    </main>

    <!-- Add Medicine Modal -->
    <div id="add-modal" class="modal-backdrop">
        <div class="modal-content">
            <span class="close-modal" onclick="closeAddModal()">&times;</span>
            <div class="auth-header"><h3>Add New Stock</h3></div>
            <form id="add-med-form">
                <div class="pe-input-group">
                    <label>Medicine Name</label>
                    <input type="text" id="med-name" required placeholder="e.g., Dolo 650">
                </div>
                <div class="pe-input-group">
                    <label>Generic Name</label>
                    <input type="text" id="med-generic" placeholder="e.g., Paracetamol">
                </div>
                <div class="pe-input-group">
                    <label>Manufacturer</label>
                    <input type="text" id="med-manufacturer" placeholder="e.g., Micro Labs">
                </div>
                <div class="pe-input-group">
                    <label>Description</label>
                    <input type="text" id="med-desc" placeholder="Short description">
                </div>
                <div class="pe-input-group" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div>
                        <label>Price</label>
                        <input type="number" id="med-price" step="0.01" required>
                    </div>
                    <div>
                        <label>Quantity</label>
                        <input type="number" id="med-qty" required>
                    </div>
                </div>
                <div class="pe-input-group">
                     <label>
                        <input type="checkbox" id="med-rx"> Requires Prescription
                     </label>
                </div>
                <button type="submit" class="pe-btn-primary">Add to Inventory</button>
            </form>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/pharmacy.js"></script>
</body>
</html>